(function(t){function e(e){for(var i,a,r=e[0],l=e[1],c=e[2],p=0,f=[];p<r.length;p++)a=r[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"05cd":function(t,e,n){"use strict";var i=n("077d"),o=n.n(i);o.a},"077d":function(t,e,n){},1526:function(t,e,n){"use strict";var i=n("1ea9"),o=n.n(i);o.a},"1ea9":function(t,e,n){},"23ff":function(t,e,n){"use strict";var i=n("3e95"),o=n.n(i);o.a},"3e95":function(t,e,n){},"49ac":function(t,e,n){t.exports=n.p+"img/Gear-0.3s-200px.9f6f3d69.svg"},5277:function(t,e,n){},"55b1":function(t,e,n){"use strict";var i=n("5277"),o=n.n(i);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),n("router-link",{attrs:{to:"/app"}},[t._v("Test-app")])],1),n("router-view")],1)},s=[],a=(n("5c0b"),n("2877")),r={},l=Object(a["a"])(r,o,s,!1,null,null,null),c=l.exports,u=n("8c4f"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),i("HelloWorld",{attrs:{msg:"Тестовое задание для компании TeamLead"}}),i("b",[t._v("Перейдите на страницу Test-app из навигации сверху")])],1)},f=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._m(0)])},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" This project was created with "),n("b",[t._v("vue-cli")]),t._v(" package by "),n("b",[t._v("sanyaches")])])}],d={name:"HelloWorld",props:{msg:String}},v=d,h=(n("1526"),Object(a["a"])(v,_,m,!1,null,"cea63272",null)),g=h.exports,b={name:"home",components:{HelloWorld:g}},w=b,C=Object(a["a"])(w,p,f,!1,null,null,null),y=C.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test"},[n("h1",[t._v("This is the Application page")]),n("div",{staticClass:"test-container"},[n("popular")],1)])},P=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popular-films films"},[i("popup",{attrs:{show:t.showPopup,filmId:t.currentFilm.id,filmName:t.currentFilm.name},on:{"close-popup":t.popupClose}}),i("h2",{staticClass:"films__title"},[t._v("Популярные фильмы")]),i("div",{staticClass:"films__filter"},[i("span",[t._v("Выберите жанр: ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedGenreId,expression:"selectedGenreId"}],staticClass:"films__filter__genre",attrs:{name:"genre",id:"genre"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedGenreId=e.target.multiple?n:n[0]}}},t._l(t.genresList,(function(e,n){return i("option",{key:n,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),0!==t.popularFilms.length&&""===t.selectedGenreId?i("div",{staticClass:"films__list"},t._l(t.popularFilms,(function(e,n){return i("film",{key:n,attrs:{title:e.title,desc:e.overview,source:"http://image.tmdb.org/t/p/w400"+e.poster_path,alt_desc:e.title,id:e.id},on:{"open-popup":t.updatePopup}})})),1):0!==t.filteredPopularFilms.length&&""!==t.selectedGenreId.name?i("div",{staticClass:"films__list"},t._l(t.filteredPopularFilms,(function(e,n){return i("film",{key:n,attrs:{title:e.title,desc:e.overview,source:"http://image.tmdb.org/t/p/w400"+e.poster_path,alt_desc:e.title,genres:e.genres,id:e.id},on:{"open-popup":t.updatePopup}})})),1):i("div",{staticClass:"films__wait"},[i("img",{attrs:{src:n("49ac"),alt:"Waiting..."}}),i("span",{staticClass:"films__wait__msg"},[t._v(t._s(t.messageWait))])]),i("ul",{staticClass:"errors"},t._l(t.errors,(function(e,n){return i("li",{key:n},[t._v(" "+t._s(e.message)+" ")])})),0)],1)},k=[],E=(n("4de4"),n("caad"),n("b0c0"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"film film__list__item",on:{click:function(e){return t.emitOpenPopup(t.id)}}},[n("div",{staticClass:"film__image"},[n("img",{staticClass:"film__image__picture",attrs:{src:t.source,alt:t.alt_desc}})]),n("div",{staticClass:"film__title"},[t._v(" "+t._s(t.title)+" ")]),n("div",{staticClass:"film__desc"},[t._v(" "+t._s(t.desc)+" ")])])}),F=[],x={name:"Film",props:["title","source","alt_desc","desc","id","genres"],methods:{emitOpenPopup:function(t){console.log("Emit open popup for film with id:"+t),this.$emit("open-popup",t,this.title)}}},j=x,G=(n("55b1"),Object(a["a"])(j,E,F,!1,null,null,null)),T=G.exports,$=n("bc3a"),S=n.n($),W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticClass:"popup",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closePopup(e)}}},[i("div",{staticClass:"popup__close",on:{click:t.closePopup}}),i("div",{staticClass:"test-container"},[i("div",{staticClass:"popup__content"},[i("h1",[t._v(t._s(t.filmName))]),"ready"===t.status?i("div",{staticClass:"popup__film"},[i("div",{staticClass:"popup__film__trailer"},[0!==t.videoInfo.length?i("iframe",{attrs:{src:t.sourceVideoYoutube,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):i("div",{staticClass:"popup__film__trailer popup__film__trailer--none"},[t._v(" Видео не было найдено ")])]),i("div",{staticClass:"popup__film__wrapper"},[i("div",{staticClass:"popup__film__content"},[i("b",[t._v("Информация о фильме:")]),t.filmInfo.title?i("div",{staticClass:"popup__film__title"},[t._v(" Название: "+t._s(t.filmInfo.title)+" ")]):t._e(),t.filmInfo.tagline?i("div",{staticClass:"popup__film__tagline"},[t._v(" Слоган: "+t._s(t.filmInfo.tagline)+" ")]):t._e(),i("div",{staticClass:"popup__film__genres"},[t._v(" Жанр: "+t._s(t.getGenres)+" ")]),t.filmInfo.status?i("div",{staticClass:"popup__film__status"},[t._v(" Статус: "+t._s(t.filmInfo.status)+" ")]):t._e(),t.filmInfo.release_date?i("div",{staticClass:"popup__film__date"},[t._v(" Дата выхода фильма: "+t._s(t.filmInfo.release_date)+" ")]):t._e(),t.filmInfo.runtime?i("div",{staticClass:"popup__film__runtime"},[t._v(" Длительность: "+t._s(t.filmInfo.runtime)+" мин. ")]):t._e(),i("div",{staticClass:"popup__film__countries"},[t._v(" Страна: "+t._s(t.getCountries)+" ")]),i("div",{staticClass:"popup__film__companies"},[t._v(" Производство: "+t._s(t.getCompanies)+" ")]),t.filmInfo.budget?i("div",{staticClass:"popup__film__budget"},[t._v(" Бюджет фильма: "+t._s(t.filmInfo.budget)+" $ ")]):t._e(),t.filmInfo.vote_average?i("div",{staticClass:"popup__film__average"},[t._v(" Оценка: "+t._s(t.filmInfo.vote_average)+"/10 ")]):t._e()])])]):t._e(),"wait"===t.status?i("div",{staticClass:"popup__film popup__film--wait"},[i("img",{attrs:{src:n("49ac"),alt:"Waiting..."}})]):t._e()])])]):t._e()},N=[],H=(n("4160"),n("159b"),{name:"Popup",props:["show","filmId","filmName"],data:function(){return{filmInfo:{},videoInfo:{},errors:[],status:""}},computed:{sourceVideoYoutube:function(){return"https://www.youtube.com/embed/".concat(this.videoInfo[0].key)},getGenres:function(){var t=this,e="";return this.filmInfo.genres.forEach((function(n,i){i!==t.filmInfo.genres.length-1?e+="".concat(n.name,", "):e+="".concat(n.name)})),e},getCountries:function(){var t=this,e="";return this.filmInfo.production_countries.forEach((function(n,i){i!==t.filmInfo.production_countries.length-1?e+="".concat(n.name,", "):e+="".concat(n.name)})),e},getCompanies:function(){var t=this,e="";return this.filmInfo.production_companies.forEach((function(n,i){i!==t.filmInfo.production_companies.length-1?e+="".concat(n.name,", "):e+="".concat(n.name)})),e}},methods:{closePopup:function(){console.log("Emit close popup"),this.$emit("close-popup")},getFilmInfo:function(){var t=this;console.log("Getting film info"),this.status="wait",S()({url:"https://api.themoviedb.org/3/movie/".concat(this.filmId,"?language=ru&api_key=9063ae2a574c85c70476669d90a3a4a9"),method:"GET",headers:{},data:{}}).then((function(e){console.log(e),t.filmInfo=e.data,t.status="ready"})).catch((function(e){t.errors.push(e),console.log(e)})),S()({url:"https://api.themoviedb.org/3/movie/".concat(this.filmId,"/videos?api_key=9063ae2a574c85c70476669d90a3a4a9&language=ru"),method:"GET",headers:{},data:{}}).then((function(e){console.log(e),t.videoInfo=e.data.results,t.status="ready"})).catch((function(e){t.errors.push(e),console.log(e)}))}},watch:{show:function(){this.show?this.getFilmInfo():console.log("No getting")}}}),L=H,M=(n("be77"),Object(a["a"])(L,W,N,!1,null,"d0a91646",null)),V=M.exports,A={name:"Popular",components:{Popup:V,Film:T},data:function(){return{popularFilms:[],errors:[],showPopup:!1,popupFilmName:"",currentFilm:{id:"",name:""},genresList:[],selectedGenreId:""}},created:function(){var t=this;S()({url:"https://api.themoviedb.org/3/movie/popular?page=1&language=ru&api_key=9063ae2a574c85c70476669d90a3a4a9&region=ru",method:"GET",headers:{},data:{}}).then((function(e){console.log(e),t.popularFilms=e.data.results})).catch((function(e){t.errors.push(e),console.log(e)})),S()({url:"https://api.themoviedb.org/3/genre/movie/list?api_key=9063ae2a574c85c70476669d90a3a4a9&language=ru",method:"GET",headers:{},data:{}}).then((function(e){console.log(e),t.genresList=e.data.genres})).catch((function(e){t.errors.push(e),console.log(e)}))},computed:{filteredPopularFilms:function(){var t=this;return this.popularFilms.filter((function(e){return e.genre_ids.includes(t.selectedGenreId)}))},messageWait:function(){return 0===this.popularFilms.length?"Загрузка фильмов, подождите...":0===this.filteredPopularFilms.length?"Фильмы с указанным жанром не найдены, выберите другой...":"Подождите, прогружаем фильмы..."}},methods:{arrayIntersectionExist:function(t,e){var n=t.filter((function(t){e.includes(t)}));return Boolean(n.length)},updatePopup:function(t,e){console.log("Open popup for film with id:"+t),this.currentFilm.id=t,this.currentFilm.name=e,this.popupOpen()},popupOpen:function(){!this.showPopup&&(this.showPopup=!this.showPopup)},popupClose:function(){this.showPopup&&(this.showPopup=!this.showPopup)}}},J=A,Y=(n("23ff"),Object(a["a"])(J,O,k,!1,null,null,null)),B=Y.exports,q={name:"test",data:function(){return{}},created:function(){},methods:{},components:{Popular:B}},z=q,D=(n("05cd"),Object(a["a"])(z,I,P,!1,null,null,null)),K=D.exports;i["a"].use(u["a"]);var Q=[{path:"/",name:"home",component:y},{path:"/app",name:"test-app",component:K}],R=new u["a"]({mode:"history",base:"/",routes:Q}),U=R,X=n("2f62");i["a"].use(X["a"]);var Z=new X["a"].Store({state:{},mutations:{},actions:{},modules:{}});i["a"].config.productionTip=!1,new i["a"]({router:U,store:Z,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),o=n.n(i);o.a},"9c0c":function(t,e,n){},"9cc0":function(t,e,n){},be77:function(t,e,n){"use strict";var i=n("9cc0"),o=n.n(i);o.a},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.a3174416.js.map